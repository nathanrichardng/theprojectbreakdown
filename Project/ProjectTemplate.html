<template name="projects">
	<div class="row">
		<div class="col-md-7">
			{{> addProjectForm}}
		</div>
		<div class="col-md-5 list-group">
			<h3>Projects: </h3>
			{{#each projects}}
				{{> projectQuickInfo}}
			{{/each}}
		</div>
	</div>
</template>

<template name="projectQuickInfo">
	<div class="list-group-item {{classFor status}}">
		<a href="/projects/{{_id}}">
			<h4 class="list-group-item-heading">{{title}}</h4>
			<p class="list-group-item-text">Due {{dueDate}}</p>
		</a>
	</div>
</template>

<template name="addProjectForm">
	<h3>
		Add a new project:
	</h3>
	<form class="add-project">
		<div class="input-group col-xs-12">
			<span class="input-group-addon" id="title">Title</span>
			<input type="text" name="title" placeholder="Project Title" class="form-control" aria-describedby="title" />
		</div>
		<div class="input-group col-xs-12">
			<span class="input-group-addon" id="targetDate">Target Date</span>
			<input type="date" name="dueDate" class="form-control" aria-describedby="targetDate">
		</div>
		<div class="input-group col-xs-12">
			<textarea class="form-control" name="description" placeholder="Project Description" rows="5"></textarea>
		</div>
		<div class="input-group col-xs-12">
			<button type="submit" class="btn btn-info col-md-12" value="Add Project">Add Project</button>
		</div>
    </form>
</template>

<template name="project">
	<span type="submit" value="Remove" class="remove-project glyphicon glyphicon-remove pull-right text-danger"></span>
	<h2>{{title}} - Due {{dueDate}}</h2>
	{{> projectProgressBar}}
	<select class="project-status">
		<option selected="{{isEqual status 'In progress'}}">In progress</option>
		<option selected="{{isEqual status 'At risk'}}">At risk</option>
		<option selected="{{isEqual status 'Complete'}}">Complete</option>
	</select>
	<hr>
	<div class="col-md-12 well">
		<p>{{description}}</p>
	</div>
	<!--refactor to its own template later-->
	<div class="col-md-6">
		<h3>Core Tasks</h3>
		{{> addCoreTaskForm}}
		<hr>
		{{> coreTasks}}
	</div>
	<div class="col-md-6 well">
		{{> members}}
	</div>
</template>

<template name="projectProgressBar">
	<div class="progress">
	  <div class="progress-bar" role="progressbar" aria-valuenow="{{percentComplete}}" aria-valuemin="0" aria-valuemax="100" style="width: {{percentComplete}}%;">
	    {{percentComplete}}%
	  </div>
	</div>
</template>